<?php/** * The template for displaying all pages * * This is the template that displays all pages by default. * Please note that this is the WordPress construct of pages * and that other 'pages' on your WordPress site may use a * different template. * * @link https://developer.wordpress.org/themes/basics/template-hierarchy/ * * @package Resolve */get_header(); ?>    <?php $herobg = get_field('hero_background_image'); ?>    <section class="home__hero" style="background-image: url('<?php echo $herobg['url'];?>');">        <div class="container-fluid">            <div class="row">                <div class="col-12">                    <?php $logo = get_field('main_logo', 'option'); ?>                    <img src="<?php echo $logo['url'];?>" class="mx-auto d-block mt-5 img-fluid" alt="<?php echo $logo['alt'];?>">                </div>            </div>            <div class="row justify-content-center pb-5">                <div class="col-lg-5 col-12 pb-5">                    <div class="latest__container">                        <h2 class="text-center text-uppercase mb-5">Latest News</h2>                        <?php                        $args = array( 'posts_per_page' => '1' );                        $recent_posts = new WP_Query($args);                        while( $recent_posts->have_posts() ) {                            $recent_posts->the_post() ;                            if ( has_post_thumbnail() ) {                                echo  '<a href="'.get_the_permalink().'"><img src="'.get_the_post_thumbnail_url().'" class="img-fluid"></a>';                            }                            echo '<h3 class="mt-3"><a href="'.get_the_permalink().'">'.get_the_title().'</a></h3>';                            echo '<p class="latest_date font-weight-bold">'.get_the_date('d/m/y').'</p>';                            the_excerpt();                        }                        wp_reset_postdata(); ?>                    </div>                </div>                <div class="col-lg-5 col-12">                    <div class="progress__container">                        <h2 class="text-center text-uppercase">Progress</h2>                        <?php if( have_rows('progress_bosses', 'option') ):                            $rowcount = 0;?>                            <div class="row">                                <?php while ( have_rows('progress_bosses', 'option') ) : the_row();                                    $rowcount++;                                    $boss = get_sub_field('name');                                    $bossImg = get_sub_field('image');                                    $logs = get_sub_field('logs_url');                                    $difficulties = get_sub_field('progession_difficulty');                                    ?>                                <div class="col-md-4 col-12 text-center">                                    <div class="row mt-5">                                        <div class="col-12">                                            <img src="<?php echo $bossImg['url'];?>" <?php if (!get_sub_field('killed')) { echo 'class="opacity-50"'; }?>">                                        </div>                                        <div class="col-12">                                            <h5><?php echo $boss;?></h5>                                            <?php if (get_sub_field('killed')) {                                                $wclnormal = get_sub_field('normal_logs_url');                                                $wclheroic = get_sub_field('heroic_logs_url');                                                $wclmythic = get_sub_field('mythic_logs_url');                                                echo '<p>';                                                    foreach ($difficulties as $difficulty){                                                        if ($difficulty['value'] == "Normal"){                                                            echo '<span class="mr-3 boss-kill"><a href="'.$wclnormal.'" target="_blank">'.$difficulty['value'].'</a></span>';                                                        }                                                        if ($difficulty['value'] == "Heroic"){                                                            echo '<span class="mr-3 boss-kill"><a href="'.$wclheroic.'" target="_blank">'.$difficulty['value'].'</a></span>';                                                        }                                                        if ($difficulty['value'] == "Mythic"){                                                            echo '<span class="mr-3 boss-kill"><a href="'.$wclmythic.'" target="_blank">'.$difficulty['value'].'</a></span>';                                                        }                                                    }                                                echo '</p>';                                            } ?>                                        </div>                                    </div>                                </div>                                <?php                                if ($rowcount %3 == 0){                                    echo '</div>';                                    echo '<div class="row d-none d-lg-block">';                                        echo '<div class="col-12">';                                            echo '<hr>';                                        echo '</div>';                                    echo '</div>';                                    echo '<div class="row">';                                }                            endwhile; ?>                            </div>                            <?php endif; ?>                    </div>                </div>            </div>        </div>    </section>    <section class="pt-5 pb-5">        <div class="container">            <div class="row mt-5">                <div class="col-12 text-center">                    <h2>Recruitment</h2>                </div>            </div>            <div class="row mt-5 mb-3">                <div class="col-12 text-center">                    <p>We are always on the look out for players who will add value to our guild and raiding roster.</p>                    <p>Below you'll find highlighted classes are what we are actively seeking to improve our raiding roster:</p>                </div>            </div>            <div class="row">                <div class="col-12 text-center">                    <?php                    if( have_rows('class_spec_icons', 'option') ):                        $recruiting = get_field('recruiting','option');                        while ( have_rows('class_spec_icons', 'option') ) : the_row();                            $classicon = get_sub_field('icon');                            $class = get_sub_field('class');                            if ($recruiting[$class['value']]){                                $classspec = $class['value'].'_specs';                                $specs = $recruiting[$classspec];                                if ($specs != null) { ?>                                    <a tabindex="0" role="button" data-trigger="focus" data-container="body" data-html="true" data-toggle="popover" title="Currently recruiting" data-placement="bottom" data-content="<?php foreach ($specs as $spec){ echo '<strong>'.$spec.'</strong><br>'; } ?>" ><img src="<?php echo $classicon['url'];?>" class="recruit-icon"></a>                                    <?php }                                    else { ?>                                    <img src="<?php echo $classicon['url'];?>" class="opacity-50">                                    <?php }                             }                            else { ?>                                <img src="<?php echo $classicon['url'];?>" class="opacity-50">                            <?php }                        endwhile;                    endif; ?>                </div>            </div>            <div class="row mt-5 mb-5">                <div class="col-12 text-center">                    <button class="btn btn-wow">Apply now</button>                </div>            </div>        </div>    </section>    <?php $teambg = get_field('meet_the_team_image'); ?>    <section class="roster__home pt-5 pb-5" style="background-image: url('<?php echo $teambg['url'];?>');">        <div class="container-fluid">            <div class="row pt-5 mb-5">                <div class="col-12 text-center">                    <h2>Meet some of the team</h2>                </div>            </div>            <div class="row pt-5 pb-5 justify-content-center">                <?php                global $wpdb;                $results = $wpdb->get_results( "SELECT * FROM wpwh_roster ORDER by RAND() LIMIT 4");                foreach ($results as $result){                    $thumbnail = str_replace('avatar','inset',$result->thumbnail);                    $class = $result->class;?>                <div class="col-12 col-lg-3 col-md-6 pb-5">                    <div class="roster__container h-100 pb-3">                        <img src="<?php echo get_template_directory_uri().'/roster/insets/'.$result->name.'.jpg'; ?>" class="img-fluid w-100">                        <?php get_class_icon($class);?>                        <h3 class="pl-3 text-center"><?php echo $result->name; ?></h3>                        <h4 class="pl-3 text-center"><?php echo $result->spec; ?></h4>                    </div>                </div>                    <?php                }                ?>            </div>            <div class="row mt-5 pb-5">                <div class="col-12 text-center">                    <a href="/roster/">                    <button class="btn btn-wow">View roster</button>                    </a>                </div>            </div>        </div>    </section><?php    $galleryargs = array(            'post_type' => 'gallery_post',            'posts_per_page' => '6'        );    $getGallery = new WP_Query($galleryargs);    if ($getGallery->have_posts()) { ?>        <section class="home__gallery pt-5 pb-5">            <div class="container">                <div class="row mt-5 pb-5">                    <div class="col-12 text-center">                        <h2>Member Gallery</h2>                    </div>                </div>        <?php if( get_field('enable_video_gallery') ):            $videourl = get_field('youtube_share_url')?>            <div class="row mb-5">                <div class="embed-responsive embed-responsive-16by9">                    <iframe class="embed-responsive-item" src="<?php echo $videourl; ?>?rel=0" allowfullscreen></iframe>                </div>            </div>        <?php endif; ?>            <div class="row">                    <div class="col-12">                        <div class="owl-carousel owl-theme">                            <?php                            while ($getGallery->have_posts()) {                                $getGallery->the_post();                                if ( has_post_thumbnail() ) { ?>                                        <div>                                            <?php echo  '<img src="'.get_the_post_thumbnail_url().'" class="img-fluid">'; ?>                                        </div>                                <?php }                            } ?>                        </div>                    </div>                </div>                <div class="row mt-5 pb-5">                    <div class="col-12 text-center">                        <a href="/gallery/">                            <button class="btn btn-wow">View gallery</button>                        </a>                    </div>                </div>            </div>        </section>    <?php } ?><?php get_footer();